<!-- app/views/shared/_navbar.html.erb -->

<!-- Desktop Menu -->
<div class="desktop-menu">
  <%= render 'shared/desktop_menu' %>
</div>

<!-- Mobile Menu -->
<div class="mobile-menu hidden">
  <%= render 'shared/mobile_menu' %>
</div>

<script>
  document.addEventListener("turbo:load", function() {
    // Function to toggle menus based on screen width
    function toggleMenus() {
      const desktopMenu = document.querySelector(".desktop-menu");
      const mobileMenu = document.querySelector(".mobile-menu");

      if (window.innerWidth < 768) {
        // Show mobile menu and hide desktop menu
        desktopMenu.classList.add("hidden");
        mobileMenu.classList.remove("hidden");
      } else {
        // Show desktop menu and hide mobile menu
        desktopMenu.classList.remove("hidden");
        mobileMenu.classList.add("hidden");
      }
    }

    // Initial toggle on page load
    toggleMenus();

    // Toggle menus on window resize
    window.addEventListener("resize", toggleMenus);
  });
</script>
