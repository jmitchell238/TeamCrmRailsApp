<!-- app/views/shared/_desktop_menu.html.erb -->

<nav class="bg-gray-800 m-0 border-t-0 border-transparent">

  <div class="flex items-center justify-between pl-4 py-0 m-0">

<!--    Left-aligned Main Menu Items - Always Visible-->
    <ul class="flex text-white">
      <li class="<%= current_page?(root_path) ? 'bg-red-500 p-4' : 'hover:bg-gray-700 p-4' %>">
        <%= link_to 'Home', root_path, class: 'block' %>
      </li>
      <li class="<%= current_page?(tracks_path) || current_page?(new_track_path) ? 'bg-red-500 p-4' : 'hover:bg-gray-700 p-4' %>">
        <%= link_to 'Tracks', tracks_path, class: 'block' %>
      </li>
      <li class="<%= current_page?(users_path) ? 'bg-red-500 p-4' : 'hover:bg-gray-700 p-4' %>">
        <%= link_to 'Members', users_path, class: 'block' %>
      </li>
      <li class="<%= current_page?(leaderboards_path) ? 'bg-red-500 p-4' : 'hover:bg-gray-700 p-4' %>">
        <%= link_to 'Leaderboards', leaderboards_path, class: 'block' %>
      </li>
      <li class="<%= current_page?(tournaments_path) ? 'bg-red-500 p-4' : 'hover:bg-gray-700 p-4' %>">
        <%= link_to 'Tournaments', tournaments_path, class: 'block' %>
      </li>
      <li class="<%= current_page?(member_portal_path) ? 'bg-red-500 p-4' : 'hover:bg-gray-700 p-4' %>">
        <%= link_to 'Member Portal', member_portal_path, class: 'block' %>
      </li>
    </ul>

<!--    Right-aligned Hamburger Menu for Profile/Authentication Links-->
<!--    Hamburger Icon & Hidden Checkbox-->
    <div class="ml-auto relative pr-4">
      <label for="user-menu-checkbox" class="cursor-pointer">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16m-7 6h7"></path>
        </svg>
      </label>
      <input type="checkbox" id="user-menu-checkbox" class="hidden peer">

<!--      Dropdown Menu controlled by the hidden checkbox-->
      <ul class="hidden absolute bg-gray-800 text-white flex-col peer-checked:flex z-20 mt-4 rounded-bl-lg w-max right-0" id="user-menu">
        <% if user_signed_in? %>
          <li class="<%= current_page?(user_path(current_user)) ? 'bg-red-500' : 'hover:bg-gray-700' %> px-6 py-2">
            <%= link_to 'Profile', user_path(current_user), class: 'block text-white' %>
          </li>
          <li class="px-6 py-2 hover:bg-gray-700">
            <%= button_to 'Sign Out', session_path, method: :delete, class: 'block text-left w-full text-white' %>
          </li>
        <% else %>
          <li class="<%= current_page?(new_session_path) ? 'bg-red-500' : 'hover:bg-gray-700' %> px-6 py-2">
            <%= link_to 'Sign In', new_session_path, class: 'block text-white' %>
          </li>
          <li class="<%= current_page?(new_registration_path) ? 'bg-red-500' : 'hover:bg-gray-700' %> px-6 py-2">
            <%= link_to 'Sign Up', new_registration_path, class: 'block text-white' %>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</nav>
