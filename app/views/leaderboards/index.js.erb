// app/views/leaderboards/index.js.erb

// app/views/leaderboards/index.js.erb
document.getElementById('leaderboards_div').innerHTML = "<%= j(render 'leaderboards/leaderboard') %>";

// Update the form or specific parts of it
document.getElementById('form_container').innerHTML = "<%= j(render('form', form: @form_builder)) %>";

// Update the leaderboard listings
document.getElementById('leaderboards_div').innerHTML = "<%= j(render('leaderboards/leaderboard', leaderboards: @leaderboards)) %>";

// Handle the AJAX response, update the form fields or other page elements as necessary
<% if @tracks %>
  // Construct track options and update the 'track_id' select field
  var trackOptions = "<%= j(options_for_select(@tracks.collect { |track| [track.name, track.id] })) %>";
  document.getElementById('track_id_select').innerHTML = trackOptions;
<% end %>
