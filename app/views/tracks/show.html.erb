<!-- app/views/tracks/show.html.erb -->

<%= render 'tracks/trackbreadcrumbs' %>

<div class="max-w-6xl mx-auto mt-8 p-4 border border-gray-300 shadow-md">
    <div class="flex">
        <div class="w-2/3 pr-8">
            <h1 class="text-2xl font-bold mb-4 underline"><%= @track.track_name %></h1>
          
            <p><strong>Type:</strong> <%= @track.track_type %></p>
            <p><strong>Description:</strong> <%= @track.track_description %></p>
            <p>
                <strong>Track Conditions</strong>
                <%= @track.track_conditions.map(&:capitalize).join(', ') %>
                <%#= @track.track_conditions.to_sentence(last_word_connector: ', and ') %>
                 <!-- This is a Rails helper method that will take an array and convert it to a sentence. -->
            </p>

            <p><strong>Pack:</strong> <%= @track.track_pack %></p>

            <div class="flex justify-between mt-4">
                <% if policy(@track).update? %>
                    <%= link_to 'Edit Track', edit_track_path(@track), class: 'text-blue-500 underline' %>
                <% end %>
            </div>
        </div>
        <div class="flex-shrink-0 flex flex-col items-center w-1/3" style="max-height: 300px;">
            <!-- Move the "Image:" label above the image -->
            <p class="mb-2"><strong>Image:</strong></p>
            <%= image_tag @track.track_image_uri, class: 'w-full h-full object-contain' %>
        </div>
    </div>
</div>
