<!-- app/views/tournaments/show.html.erb -->

<%= render 'tournaments/tournament_breadcrumbs' %>

<div class="max-w-6xl mx-auto mt-8 p-4 border border-gray-300 shadow-md">
  <div class="flex">
    <div class="w-2/3 pr-8">
      <h1 class="text-2xl font-bold mb-4 underline"><%= @tournament.name %></h1>

      <p><strong>Description:</strong> <%= @tournament.description %></p>
      <p><strong>Start Date:</strong> <%= @tournament.start_date.in_time_zone(@user_time_zone).strftime('%B %e, %Y - Time: %l:%M %p %Z') %></p>




      <ul>
        <% @tournament.rounds.each do |round| %>
          <li>
            <p><strong>Round Number: </strong><%= round.number %></p>
            <%= link_to round.name, round %>
          </li>
        <% end %>
      </ul>
      <div class="flex justify-between mt-4">
        <% if policy(@tournament).update? %>
          <%= link_to 'Edit Tournament', edit_tournament_path(@tournament), class: 'text-blue-500 underline' %>
        <% end %>

        <% if policy(@tournament).destroy? %>
          <%= link_to 'Delete Tournament', @tournament, method: :delete, data: { confirm: 'Are you sure?' }, class: 'text-red-500 underline' %>
        <% end %>
      </div>
    </div>
  </div>
</div>